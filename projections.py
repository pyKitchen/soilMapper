import math

class FromRD(object):
    '''
    Basic usage:
    rd_xy = [(117896.48,464591.33),(117898.53,464590.94),(117899.49,464590.85)]
    f = FromRD()
    conv =[f.RD_2_WGS84(c[0],c[1]) for c in rd_xy]
    '''    
    def RD_2_WGS84(self, x,y):
    
            dX = (x - 155000) * math.pow(10, -5)
            dY = (y - 463000) * math.pow(10, -5)
    
            som_N = (3235.65389 * dY) + (-32.58297 * dX ** 2) +  (-0.2475 * dY ** 2) + (-0.84978 * dX ** 2 * dY) + (-0.0655 * dY ** 3) + (-0.01709 * dX ** 2 * dY ** 2) + (-0.00738 * dX) + (0.0053 * dX ** 4) +(-0.00039 * dX ** 2 * dY ** 3) + (0.00033 * dX ** 4 * dY) + (-0.00012 * dX * dY)
            som_E = (5260.52916 * dX) + (105.94684 * dX * dY) + (2.45656 * dX * dY ** 2) + (-0.81885 * dX ** 3) + (0.05594 * dX * dY ** 3) + (-0.05607 * dX ** 3 * dY) + (0.01199 * dY) + (-0.00256 * dX ** 3 * dY ** 2) + (0.00128 * dX * dY ** 4) + (0.00022 * dY ** 2) + (-0.00022 * dX ** 2) + (0.00026 * dX ** 5)
    
            lati = 52.15517 + (som_N / 3600)
            longi = 5.387206 + (som_E / 3600)
            return lati,longi


